import{auth as t}from"firebaseui";import e from"firebase/app";import"firebase/auth";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var n=function(){function n(i){this.dispatch=i.dispatch,this.signInOptions=i.signInOptions,this.firebase=e.initializeApp({apiKey:"AIzaSyCdtQ6V3qDxpgDO-usa3zWvBhIJKpAd4mM",authDomain:"useauth-demo.firebaseapp.com",projectId:"useauth-demo",storageBucket:"useauth-demo.appspot.com",messagingSenderId:"520315046120",appId:"1:520315046120:web:4384141e88f49e638c215d"},"useAuth"),this.ui=new t.AuthUI(this.firebase.auth()),this.firebase.auth().onAuthStateChanged(this.onAuthStateChanged)}var s=n.prototype;return s.onAuthStateChanged=function(t){console.log("HAI",t.toJSON())},n.addDefaultParams=function(t,n){return i({signInOptions:[e.auth.EmailAuthProvider.PROVIDER_ID]},t)},s.authorize=function(){var t=this;this.dispatch("LOGIN"),this.ui.start("#firebaseui-auth-container",{signInOptions:this.signInOptions,signInFlow:"popup",callbacks:{signInSuccessWithAuthResult:function(e){return console.log({authResult:e}),t.dispatch("AUTHENTICATED",{user:t.firebase.auth().currentUser.toJSON(),authResult:{expiresIn:3600}}),!1}}})},s.signup=function(){},s.logout=function(t){},s.userId=function(t){var e;return null==(e=this.firebase.auth().currentUser)?void 0:e.uid},s.userRoles=function(t){return[]},s.handleLoginCallback=function(){return Promise.resolve(!1)},s.checkSession=function(){try{var t=this.firebase.auth().currentUser.toJSON();if(console.log("checkSession",t),t)return Promise.resolve({user:t,authResult:{expiresIn:3600}});throw new Error("Session invalid")}catch(t){return Promise.reject(t)}},n}();export{n as FirebaseUI};
//# sourceMappingURL=FirebaseUI.esm.js.map
